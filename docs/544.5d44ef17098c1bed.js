"use strict";(self.webpackChunksudoku_app=self.webpackChunksudoku_app||[]).push([[544],{9544:(Y,b,i)=>{i.r(b),i.d(b,{GameModule:()=>J});var l=i(6895),h=i(1869),x=i(1577),d=i(4004),v=i(1365),f=i(9300),g=i(7579),w=i(4986),C=i(2805),y=i(2722),p=i(6511),s=i(6767),_=i(2340),t=i(4650),m=i(2997);let O=(()=>{class e{transform(o){return null!=o?~~(o/3):-1}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=t.Yjl({name:"blockIndex",type:e,pure:!0}),e})();function Z(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",3),t.NdJ("click",function(){const c=t.CHM(o).index,u=t.oxw().index,Q=t.oxw(2);return t.KtG(Q.onFieldClick({row:u,col:c}))}),t.ALo(1,"blockIndex"),t.ALo(2,"blockIndex"),t.ALo(3,"blockIndex"),t.ALo(4,"blockIndex"),t.TgZ(5,"div",4),t._uU(6),t.qZA()()}if(2&e){const o=r.$implicit,n=r.index,a=t.oxw().index,c=t.oxw().ngIf;t.ekj("top",a%3==0)("bottom",a%3==2)("left",n%3==0)("right",n%3==2)("rounded-tl-md",0===n&&0===a)("rounded-tr-md",8===n&&0===a)("rounded-br-md",8===n&&8===a)("rounded-bl-md",0===n&&8===a)("highlight",t.lcZ(1,25,null==c.activeFieldCell?null:c.activeFieldCell.row)===t.lcZ(2,27,a)&&t.lcZ(3,29,null==c.activeFieldCell?null:c.activeFieldCell.col)===t.lcZ(4,31,n)||a===(null==c.activeFieldCell?null:c.activeFieldCell.row)||n===(null==c.activeFieldCell?null:c.activeFieldCell.col))("highlight-wrong",o.value!==o.answer&&void 0!==o.value)("highlight-same",(null==c.activeFieldCell?null:c.activeFieldCell.value)&&(null==c.activeFieldCell?null:c.activeFieldCell.value)===(null==o?null:o.value))("active",(null==c.activeFieldCell?null:c.activeFieldCell.col)===n&&(null==c.activeFieldCell?null:c.activeFieldCell.row)===a),t.xp6(6),t.Oqu(o.value)}}function I(e,r){if(1&e&&(t.ynx(0),t.YNc(1,Z,7,33,"div",2),t.BQk()),2&e){const o=r.$implicit;t.xp6(1),t.Q6J("ngForOf",o)}}function T(e,r){if(1&e&&(t.ynx(0),t.YNc(1,I,2,1,"ng-container",1),t.BQk()),2&e){const o=r.ngIf;t.xp6(1),t.Q6J("ngForOf",o.board)}}let M=(()=>{class e{constructor(o){this.store=o,this.destroy$=new g.x,this.gameState$=this.store.select(s.fS)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onFieldClick(o){this.store.dispatch((0,p.qN)({cell:o}))}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(m.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-board"]],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["class","cell",3,"top","bottom","left","right","rounded-tl-md","rounded-tr-md","rounded-br-md","rounded-bl-md","highlight","highlight-wrong","highlight-same","active","click",4,"ngFor","ngForOf"],[1,"cell",3,"click"],[1,"value"]],template:function(o,n){1&o&&(t.YNc(0,T,2,1,"ng-container",0),t.ALo(1,"async")),2&o&&t.Q6J("ngIf",t.lcZ(1,1,n.gameState$))},dependencies:[l.sg,l.O5,l.Ov,O],styles:['[_nghost-%COMP%]{display:grid;grid-template-columns:repeat(9,1fr);--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.cell[_ngcontent-%COMP%]{position:relative;cursor:pointer;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}@media (prefers-color-scheme: dark){.cell[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(63 63 70 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(39 39 42 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(161 161 170 / var(--tw-text-opacity))}}.cell.top[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-top-color:rgb(156 163 175 / var(--tw-border-opacity))}@media (prefers-color-scheme: dark){.cell.top[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-top-color:rgb(82 82 91 / var(--tw-border-opacity))}}.cell.bottom[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-bottom-color:rgb(156 163 175 / var(--tw-border-opacity))}@media (prefers-color-scheme: dark){.cell.bottom[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-bottom-color:rgb(82 82 91 / var(--tw-border-opacity))}}.cell.left[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-left-color:rgb(156 163 175 / var(--tw-border-opacity))}@media (prefers-color-scheme: dark){.cell.left[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-left-color:rgb(82 82 91 / var(--tw-border-opacity))}}.cell.right[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-right-color:rgb(156 163 175 / var(--tw-border-opacity))}@media (prefers-color-scheme: dark){.cell.right[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-right-color:rgb(82 82 91 / var(--tw-border-opacity))}}.cell.highlight[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}@media (prefers-color-scheme: dark){.cell.highlight[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(24 24 27 / var(--tw-bg-opacity))}}.cell.highlight-same[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}@media (prefers-color-scheme: dark){.cell.highlight-same[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(9 9 11 / var(--tw-bg-opacity))}}.cell.highlight-wrong[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity))}@media (prefers-color-scheme: dark){.cell.highlight-wrong[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(185 28 28 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(127 29 29 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(254 226 226 / var(--tw-text-opacity))}.cell.active[_ngcontent-%COMP%]{border-width:2px}}.cell.active.active[_ngcontent-%COMP%]:not(.highlight-wrong){--tw-border-opacity: 1;border-color:rgb(147 197 253 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(191 219 254 / var(--tw-bg-opacity))}@media (prefers-color-scheme: dark){.cell.active.active[_ngcontent-%COMP%]:not(.highlight-wrong){--tw-border-opacity: 1;border-color:rgb(29 78 216 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(30 58 138 / var(--tw-bg-opacity))}}.cell[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;font-size:20px;cursor:pointer;display:flex;justify-content:center;align-items:center}.cell[_ngcontent-%COMP%]:after{content:"";display:block;padding-top:100%;width:100%}']}),e})();function F(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){const c=t.CHM(o).$implicit,u=t.oxw(2);return t.KtG(u.onInputClick(c))}),t.TgZ(1,"span"),t._uU(2),t.qZA()()}if(2&e){const o=r.$implicit,n=r.index,a=t.oxw().ngIf;t.Q6J("disabled",9===a[n]),t.xp6(2),t.Oqu(o)}}function A(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",1),t.YNc(1,F,3,2,"button",2),t.TgZ(2,"button",3),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.onClearClick())}),t.TgZ(3,"span",4),t._uU(4," delete "),t.qZA()()()}if(2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.inputValues)}}let P=(()=>{class e{constructor(o){this.store=o,this.destroy$=new g.x,this.usedNumbers$=this.store.select(s.XR).pipe((0,y.R)(this.destroy$)),this.inputValues=[1,2,3,4,5,6,7,8,9]}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onInputClick(o){this.store.dispatch((0,p.sO)({value:o}))}onClearClick(){this.store.dispatch((0,p.EU)())}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(m.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-input"]],decls:2,vars:3,consts:[["class","grid gap-4 select-none grid-cols-5 items-stretch",4,"ngIf"],[1,"grid","gap-4","select-none","grid-cols-5","items-stretch"],["class","h-12 rounded-md dark:text-zinc-400 contr-border",3,"disabled","click",4,"ngFor","ngForOf"],[1,"h-12","rounded-md","contr-red-border",3,"click"],[1,"material-icons","text-s","mt-1"],[1,"h-12","rounded-md","dark:text-zinc-400","contr-border",3,"disabled","click"]],template:function(o,n){1&o&&(t.YNc(0,A,5,1,"div",0),t.ALo(1,"async")),2&o&&t.Q6J("ngIf",t.lcZ(1,1,n.usedNumbers$))},dependencies:[l.sg,l.O5,l.Ov]}),e})();var $=i(9481);function U(e,r){if(1&e&&(t.ynx(0),t.TgZ(1,"span",10),t._uU(2),t.qZA(),t.BQk()),2&e){const o=r.ngIf;t.xp6(2),t.Oqu(o)}}function N(e,r){if(1&e&&(t.ynx(0),t.TgZ(1,"span",11),t._uU(2),t.ALo(3,"date"),t.qZA(),t.BQk()),2&e){const o=r.ngIf;t.xp6(2),t.Oqu(t.xi3(3,1,o,"yyyy-MM-dd"))}}function B(e,r){if(1&e&&(t.TgZ(0,"div",12)(1,"span",13),t._uU(2,"mistakes:"),t.qZA(),t.TgZ(3,"span",14),t._uU(4),t.qZA()()),2&e){const o=r.ngIf,n=t.oxw();t.xp6(3),t.ekj("warning",o.value>=n.maxMistakes),t.xp6(1),t.AsE(" ",o.value,"/",n.maxMistakes," ")}}function G(e,r){if(1&e&&(t.TgZ(0,"div",15)(1,"span"),t._uU(2),t.ALo(3,"gameTime"),t.qZA(),t.TgZ(4,"span",16),t._uU(5," timer "),t.qZA()()),2&e){const o=r.ngIf;t.xp6(2),t.Oqu(t.lcZ(3,1,o.value))}}const z=[{path:"",component:(()=>{class e{constructor(o){this.store=o,this.gameTitle$=(0,x.a)([this.store.select(s.AG),this.store.select(s.pK)]).pipe((0,d.U)(([n,a])=>a??n)),this.gameDate$=this.store.select(s.vj).pipe((0,v.M)(this.gameTitle$),(0,f.h)(([,n])=>"daily sudoku"===n?.toLowerCase()),(0,d.U)(([n])=>n)),this.mistakes$=this.store.select(s.i2).pipe((0,d.U)(n=>({value:n}))),this.time$=this.store.select(s.qR).pipe((0,d.U)(n=>({value:n}))),this.destroy$=new g.x,this.maxMistakes=_.N.maxErrors}ngOnInit(){(function k(e=0,r=w.z){return e<0&&(e=0),(0,C.H)(e,e,r)})(1e3).pipe((0,y.R)(this.destroy$)).subscribe(()=>this.store.dispatch((0,p.aT)()))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(m.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-game"]],decls:21,vars:12,consts:[[1,"h-screen","dark:bg-zinc-800","p-7","flex","flex-col","justify-between","align-stretch"],[1,"mb-4","flex","justify-between"],[1,"flex","flex-col"],[4,"ngIf"],["class","flex items-end",4,"ngIf"],[1,"mb-2"],["class","text-gray-600 dark:text-zinc-400 uppercase text-xs mb-7 flex flex-row-reverse",4,"ngIf"],["routerLink","../",1,"rounded-md","contr-border","dark:text-zinc-400","flex","items-center","justify-center","h-12"],[1,"material-icons","text-s","mr-2"],[1,"uppercase"],[1,"capitalize","text-gray-600","dark:text-zinc-400","text-2xl"],[1,"text-gray-400","dark:text-zinc-500","text-sm"],[1,"flex","items-end"],[1,"text-gray-600","dark:text-zinc-500","uppercase","text-xs"],[1,"text-red-500","text-xs","ease-in-out","duration-100","ml-2"],[1,"text-gray-600","dark:text-zinc-400","uppercase","text-xs","mb-7","flex","flex-row-reverse"],[1,"material-icons-outlined","text-xs","mr-1","text-gray-600","dark:text-zinc-400"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"div",2),t.YNc(4,U,3,1,"ng-container",3),t.ALo(5,"async"),t.YNc(6,N,4,4,"ng-container",3),t.ALo(7,"async"),t.qZA(),t.YNc(8,B,5,4,"div",4),t.ALo(9,"async"),t.qZA(),t.TgZ(10,"div",5),t._UZ(11,"app-board"),t.qZA(),t.YNc(12,G,6,3,"div",6),t.ALo(13,"async"),t.TgZ(14,"div"),t._UZ(15,"app-input"),t.qZA()(),t.TgZ(16,"button",7)(17,"span",8),t._uU(18," home "),t.qZA(),t.TgZ(19,"span",9),t._uU(20," home "),t.qZA()()()),2&o&&(t.xp6(4),t.Q6J("ngIf",t.lcZ(5,4,n.gameTitle$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(7,6,n.gameDate$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(9,8,n.mistakes$)),t.xp6(4),t.Q6J("ngIf",t.lcZ(13,10,n.time$)))},dependencies:[l.O5,h.rH,M,P,l.Ov,l.uU,$.o],styles:[".warning[_ngcontent-%COMP%]{margin-left:.25rem;border-radius:.375rem;--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity));padding-left:.25rem;padding-right:.25rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}@media (prefers-color-scheme: dark){.warning[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(185 28 28 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(127 29 29 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(254 226 226 / var(--tw-text-opacity))}}"]}),e})()},{path:"winner",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-win"]],decls:3,vars:0,consts:[[1,"flex","flex-col","justify-center","items-center","w-screen","h-screen","dark:bg-zinc-900"],[1,"dark:text-gray-50"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2,"YOU WIN!"),t.qZA()())}}),e})()}];var L=i(4466);let J=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,h.Bz.forChild(z),L.m]}),e})()}}]);